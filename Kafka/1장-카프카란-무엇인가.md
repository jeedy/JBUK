# 카프카란 무엇인가?

메시지 플랫폼

## 1.1 카프카의 탄생배경

- 링크드인에서 출발해 2011년 초 아파치  공식 오픈소스로 공개
- 빅데이터 분석할 때 여러 스토리지와 분석 시스템에 *데이터를 연결하기 위한 필수 도구*로 사용되고 있다.
- 현재 넷플릭스, 에어비앤비, 마이크로소프트, 카카오 등에서 *데이터 파이프라인*으로 사용되고 있다.

## 1.2 카프카의 동작 방식과 원리

카프카는 기본적으로 메시징 서버로 동작

###  메시지징 서버 동작 원리
1. 보내는 측(publisher 또는 producer)에서 카프카에 `토픽`이라는 메시지 저장소에 데이터 저장
2. 가져가는 측(subscriber 또는 consumer)이 원하는 `토픽`에서 데이터를 가져간다.

중앙에 메시징 시스템 서버를 투고 이렇게 메시지를 보내고(publish) 받는(subscribe) 형태의 통신을 펍/섭(pub/sub) 모델이라고 한다.

## 1.3 카프카의 특징

1. 멀티 프로듀서, 멀티 컨슈머
    - 하나의 토픽에 여러 프로듀서 또는 커슈머들이 접근 가능한 구조
    - 하나의 프로듀서가 하나 이상의 토픽으로 메시지 전송 가능하다
    - 하나의 컨슈머는 하나 이상의 토픽에서 메시지를 가져 올 수 있다.

1. 디스크에 메시지 저장
    - 기존 메시지 시스템과 가장 다른 특징중 하나가 바로 디스크에 메시지를 저장하고 유지하는 기능이 있다는 것

1. 확장성
    - 확장이 매우 용이 하도록 설계되어 하나의 카프카 클러스터는 3대의 브로커로 시작해 수십 대의 브로커로 확장가능
    - 서비스 중단 없이 온라인 상태에서 작업 가능

1. 높은 성능(?)

1.4 카프카의 확장과 발전
1. SOA(Service Oriented Architecture) 의 ESB(Enterprise Service Bus)를 쉽게 구현
1. 데이터 분석 파이프 라인 구축에 사용
    - 카프카 스트림즈
    - KSQL

**용어 정리**

- 브로커(Broker): 카프카 애플리케이션이 설치되어 있는 서버 또는 노드
- 토픽(Topic): 프로듀서와 컨슈머들이 카프카로 보낸 자신들의 메시지를 구분하기 위한 네임
- 파티션(Partition): 많은 양의 메시지를 병렬처리가 가능하도록 토픽을 나누는 것
- 프로듀서(Producer): 메시지를 생산하여 브로커의 토픽 이름으로 보내는 서버 또는 애플리케이션
- 컨슈머(Consumer): 브로커에 토픽 이름으로 저장된 메시지를 가져가는 서버 또는 애플리케이션
- 스플렁크(Splunk): 데이터를 저장하고 지표를 그래픽화 해주는 플랫폼 [https://www.splunk.com](https://www.splunk.com)